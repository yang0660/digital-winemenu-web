<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.myicellar.digitalmenu.dao.mapper.FoodProductMapperExt">
  <resultMap id="BaseResultMap" type="com.myicellar.digitalmenu.dao.entity.FoodProduct"
  extends="com.myicellar.digitalmenu.dao.mapper.FoodProductMapper.BaseResultMap">
  </resultMap>
  <sql id="Base_Column_List">
    <include refid="com.myicellar.digitalmenu.dao.mapper.FoodProductMapper.Base_Column_List" />
  </sql>

  <select id="selectCount" parameterType="com.myicellar.digitalmenu.vo.request.FoodProductpageReqVO" resultType="long">
    select count(0)
    from t_food_product
    where 1=1
    <if test="foodId != null and foodId != 0">
      and food_id = #{foodId}
    </if>
    <if test="productId != null and productId != 0">
      and product_id = #{productId}
    </if>
  </select>

  <select id="selectList" parameterType="com.myicellar.digitalmenu.vo.request.FoodProductpageReqVO"
          resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List"/>
    from t_food_product
    where 1=1
    <if test="foodId != null and foodId != 0">
      and food_id = #{foodId}
    </if>
    <if test="productId != null and productId != 0">
      and product_id = #{productId}
    </if>
    limit #{offset,jdbcType=INTEGER}, #{pageSize,jdbcType=INTEGER}
  </select>

<!--_____________________________________________________________-->

<!--  <resultMap id="ProductResultMap" type="com.myicellar.digitalmenu.vo.response.FoodDisplayRespVO">-->
<!--    <id column="product_id" jdbcType="BIGINT" property="productId" />-->
<!--    <result column="wine_name_eng" jdbcType="BIGINT" property="wineId" />-->
<!--    <result column="wine_type_name_eng" jdbcType="BIGINT" property="wineId" />-->
<!--    <result column="vintage_name" jdbcType="VARCHAR" property="vintageTag" />-->
<!--    <result column="attr_name_eng" jdbcType="VARCHAR" property="vintageTag" />-->
<!--    <result column="winery_name_eng" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="origin_name_eng" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="country_name_eng" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="score_name" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="score_val" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="score_note_plain_eng" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="critics_name" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="critics_about_url" jdbcType="BIGINT" property="supplierId" />-->
<!--    <result column="regular_price" jdbcType="DECIMAL" property="regularPrice" />-->
<!--    <result column="type_name_eng" jdbcType="BIGINT" property="volumeTypeId" />-->
<!--    <result column="glass_price" jdbcType="DECIMAL" property="glassPrice" />-->
<!--    <result column="type_name_eng" jdbcType="BIGINT" property="glassVolumeTypeId" />-->
<!--    <result column="is_recommend" jdbcType="TINYINT" property="isRecommend" />-->
<!--    <result column="is_enabled" jdbcType="TINYINT" property="isEnabled" />-->
<!--    <result column="created_at" jdbcType="TIMESTAMP" property="createdAt" />-->
<!--    <result column="created_by" jdbcType="BIGINT" property="createdBy" />-->
<!--    <result column="updated_at" jdbcType="TIMESTAMP" property="updatedAt" />-->
<!--    <result column="updated_by" jdbcType="BIGINT" property="updatedBy" />-->
<!--  </resultMap>-->
<!--  <select id="selectProductByFoodId" parameterType="FoodProductReqVO" resultMap="ProductResultMap">-->
<!--    select-->
<!--    a.product_id,-->
<!--    d.country_name_eng,-->
<!--    e.origin_name_eng,-->
<!--    from t_product a,-->
<!--         t_food_product b,-->
<!--         t_wine  c-->
<!--         t_country  d,-->
<!--         t_origin e,-->
<!--         t_wine_type f-->
<!--    where a.product_id = b.product_id-->
<!--      and a.wine_id = c.wine_id-->
<!--      and b.food_id=#{foodId}-->
<!--    limit #{offset,jdbcType=INTEGER}, #{pageSize,jdbcType=INTEGER}-->
<!--  </select>-->

  <!--_____________________________________________________________-->


</mapper>